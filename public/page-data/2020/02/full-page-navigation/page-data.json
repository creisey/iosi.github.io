{"componentChunkName":"component---src-templates-post-index-js","path":"/2020/02/full-page-navigation/","result":{"data":{"site":{"id":"Site","siteMetadata":{"url":"https://thomasvaeth.com"}},"markdownRemark":{"id":"025d4d03-45e6-505f-a79c-b0eef5c87846","html":"<p>There was a challenge on <a href=\"https://codepen.io/challenges/2020/january/2\" target=\"_blank\">CodePen</a> during the second week of January to build a full-page navigation. I just happened to recently finish working on one for the new <a href=\"/art-by-elina\">Art by Elina</a> website. I built something that transitioned horizontally because the page transitions on Art by Elina were done vertically. So this is the script I wrote and used to do that.</p>\n<hr/>\n<h2>The Prototype</h2>\n<div class=\"flex-vid\">\n  <iframe height=\"650\" scrolling=\"no\" title=\"CSS Grid for Getty Images\" src=\"//codepen.io/thomasvaeth/embed/VwYdgxe/?height=650&theme-id=0&default-tab=result\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\"></iframe>\n</div>\n<p>The demo is best viewed with the zoom set to 0.5x.</p>\n<hr/>\n<h2>The Setup</h2>\n<p></p>\n<pre><code>&#x3C;div class=\"hamburger\">\n  &#x3C;!-- Toggle Here -->\n&#x3C;/div>\n\n&#x3C;div class=\"menu\">\n  &#x3C;div class=\"menu__left\">\n    &#x3C;!-- Content Here -->\n  &#x3C;/div>\n  &#x3C;div class=\"menu__right\">\n    &#x3C;!-- Content Here -->\n  &#x3C;/div>\n&#x3C;/div>\n</code></pre>\n<pre><code>.menu {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: -9;\n\n  height: 100%;\n  width: 100%;\n\n  visibility: hidden;\n  opacity: 0;\n\n  @media (min-width: 54rem) {\n    min-height: 40em;\n  }\n\n  .js-menu-visible &#x26; {\n    z-index: 998;\n\n    visibility: visible;\n    opacity: 1;\n  }\n\n  &#x26;__left,\n  &#x26;__right {\n    position: absolute;\n    top: 0;\n\n    height: 100%;\n  }\n\n  &#x26;__left {\n    left: 0;\n\n    display: flex;\n    width: 100%;\n\n    overflow: hidden;\n  }\n\n  &#x26;__right {\n    display: none;\n\n    @media (min-width: 54rem) {\n      display: block;\n    }\n  }\n}\n</code></pre>\n<p>The menu is divided into a left and right container. The width of the containers are set in the script depending on the user's screen size.</p>\n<hr/>\n<h2>The Script</h2>\n<p>jQuery and <a href=\"https://animejs.com/\" target=\"_blank\">anime.js</a> v3 have to be included for the script to work. The timeline does not work in v2.</p>\n<pre><code>const Menu = (() => {\n  let s;\n\n  return {\n    settings() {\n      return {\n        body: $('body'),\n        hamburger: $('.hamburger'),\n        open: 'js-menu-open',\n        visible: 'js-menu-visible',\n        overflow: 'js-overflow',\n        width: $(window).width(),\n        prevWidth: $(window).width(),\n      };\n    },\n\n    init() {\n      s = this.settings();\n      this.bindEvents();\n    },\n\n    bindEvents() {\n      let menuContainerWidth;\n\n      if (s.width &#x3C; 864) {\n        menuContainerWidth = 100;\n      } else if (s.width &#x3C; 1456) {\n        menuContainerWidth = 50;\n      } else {\n        menuContainerWidth = 45;\n      }\n\n      $(window).on('resize', () => {\n        s.width = $(window).width();\n\n        if (s.width &#x3C; 864) {\n          menuContainerWidth = 100;\n        } else if (s.width &#x3C; 1456) {\n          menuContainerWidth = 50;\n        } else {\n          menuContainerWidth = 45;\n        }\n      });\n\n      s.hamburger.on('click', () => {\n        Menu.toggleMenu(menuContainerWidth);\n      });\n\n      s.body.on('keyup', e => {\n        if (s.body.hasClass(s.open) &#x26;&#x26; e.which === 27) {\n          Menu.toggleMenu(menuContainerWidth);\n        }\n      });\n    },\n\n    toggleMenu(width) {\n      s.hamburger.toggleClass('js-hamburger');\n      s.body.toggleClass(s.open);\n      s.body.toggleClass(s.overflow);\n\n      if (s.body.hasClass(s.open)) {\n        s.prevWidth = width;\n\n        anime.timeline({\n          easing: 'easeOutQuart',\n          duration: 600,\n          begin() {\n            $('.menu__right').css('left', `${width}%`);\n            s.body.addClass(s.visible);\n          }\n        })\n        .add({\n          targets: '.menu__left',\n          width: [0, `${width}%`]\n        })\n        .add({\n          targets: '.menu__right',\n          width: [0, `${100 - width}%`]\n        }, 0);\n      }\n\n      if (!s.body.hasClass(s.open)) {\n        anime.timeline({\n          easing: 'easeInQuart',\n          duration: 600,\n          delay: 200,\n          complete() {\n            s.body.removeClass(s.visible);\n          }\n        })\n        .add({\n          targets: '.menu__left',\n          width: [`${s.prevWidth}%`, 0]\n        })\n        .add({\n          targets: '.menu__right',\n          width: [`${100 - s.prevWidth}%`, 0]\n        }, 0);\n      }\n    }\n  };\n})();\n\nMenu.init();\n</code></pre>\n<hr/>\n<h2>The Demo</h2>\n<p><a href=\"https://artbyelina.com/\" target=\"_blank\">Art by Elina</a></p>","frontmatter":{"title":"Full-Page Navigation","description":"","date":"February 2020","image":{"id":"486d7b33-91fa-5b98-8e92-c3e9f41c8f4d","publicURL":"/static/mast-227c218e5c903b0ac6e72dec251e02f4.jpg"}},"fields":{"slug":"/2020/02/full-page-navigation/"}}},"pageContext":{"slug":"/2020/02/full-page-navigation/"}}}
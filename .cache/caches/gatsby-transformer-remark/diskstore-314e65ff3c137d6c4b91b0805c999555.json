{"expireTime":9007200837524962000,"key":"transformer-remark-markdown-html-ast-5a12df1eb6ea22d4e2f72915afaac734-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-copy-linked-files-","val":{"type":"root","children":[{"type":"raw","value":"<p>There was a challenge on <a href=\"https://codepen.io/challenges/2020/january/2\" target=\"_blank\">CodePen</a> during the second week of January to build a full-page navigation. I just happened to recently finish working on one for the new <a href=\"/art-by-elina\">Art by Elina</a> website. I built something that transitioned horizontally because the page transitions on Art by Elina were done vertically. So this is the script I wrote and used to do that.</p>","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":461,"offset":460}}},{"type":"text","value":"\n"},{"type":"raw","value":"<hr/>","position":{"start":{"line":3,"column":1,"offset":462},"end":{"line":3,"column":6,"offset":467}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"The Prototype","position":{"start":{"line":5,"column":4,"offset":472},"end":{"line":5,"column":17,"offset":485}}}],"position":{"start":{"line":5,"column":1,"offset":469},"end":{"line":5,"column":17,"offset":485}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"flex-vid\">\n  <iframe height=\"650\" scrolling=\"no\" title=\"CSS Grid for Getty Images\" src=\"//codepen.io/thomasvaeth/embed/VwYdgxe/?height=650&theme-id=0&default-tab=result\" frameborder=\"no\" allowtransparency=\"true\" allowfullscreen=\"true\" style=\"width: 100%;\"></iframe>\n</div>\n<p>The demo is best viewed with the zoom set to 0.5x.</p>","position":{"start":{"line":6,"column":1,"offset":486},"end":{"line":9,"column":58,"offset":828}}},{"type":"text","value":"\n"},{"type":"raw","value":"<hr/>","position":{"start":{"line":11,"column":1,"offset":830},"end":{"line":11,"column":6,"offset":835}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"The Setup","position":{"start":{"line":13,"column":4,"offset":840},"end":{"line":13,"column":13,"offset":849}}}],"position":{"start":{"line":13,"column":1,"offset":837},"end":{"line":13,"column":13,"offset":849}}},{"type":"text","value":"\n"},{"type":"raw","value":"<p></p>","position":{"start":{"line":14,"column":1,"offset":850},"end":{"line":14,"column":8,"offset":857}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"<div class=\"hamburger\">\n  <!-- Toggle Here -->\n</div>\n\n<div class=\"menu\">\n  <div class=\"menu__left\">\n    <!-- Content Here -->\n  </div>\n  <div class=\"menu__right\">\n    <!-- Content Here -->\n  </div>\n</div>\n"}],"position":{"start":{"line":16,"column":1,"offset":859},"end":{"line":30,"column":5,"offset":1075}}}],"position":{"start":{"line":16,"column":1,"offset":859},"end":{"line":30,"column":5,"offset":1075}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":".menu {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: -9;\n\n  height: 100%;\n  width: 100%;\n\n  visibility: hidden;\n  opacity: 0;\n\n  @media (min-width: 54rem) {\n    min-height: 40em;\n  }\n\n  .js-menu-visible & {\n    z-index: 998;\n\n    visibility: visible;\n    opacity: 1;\n  }\n\n  &__left,\n  &__right {\n    position: absolute;\n    top: 0;\n\n    height: 100%;\n  }\n\n  &__left {\n    left: 0;\n\n    display: flex;\n    width: 100%;\n\n    overflow: hidden;\n  }\n\n  &__right {\n    display: none;\n\n    @media (min-width: 54rem) {\n      display: block;\n    }\n  }\n}\n"}],"position":{"start":{"line":32,"column":1,"offset":1077},"end":{"line":81,"column":5,"offset":1637}}}],"position":{"start":{"line":32,"column":1,"offset":1077},"end":{"line":81,"column":5,"offset":1637}}},{"type":"text","value":"\n"},{"type":"raw","value":"<p>The menu is divided into a left and right container. The width of the containers are set in the script depending on the user's screen size.</p>","position":{"start":{"line":82,"column":1,"offset":1638},"end":{"line":82,"column":147,"offset":1784}}},{"type":"text","value":"\n"},{"type":"raw","value":"<hr/>","position":{"start":{"line":84,"column":1,"offset":1786},"end":{"line":84,"column":6,"offset":1791}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"The Script","position":{"start":{"line":86,"column":4,"offset":1796},"end":{"line":86,"column":14,"offset":1806}}}],"position":{"start":{"line":86,"column":1,"offset":1793},"end":{"line":86,"column":14,"offset":1806}}},{"type":"text","value":"\n"},{"type":"raw","value":"<p>jQuery and <a href=\"https://animejs.com/\" target=\"_blank\">anime.js</a> v3 have to be included for the script to work. The timeline does not work in v2.</p>","position":{"start":{"line":87,"column":1,"offset":1807},"end":{"line":87,"column":159,"offset":1965}}},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"const Menu = (() => {\n  let s;\n\n  return {\n    settings() {\n      return {\n        body: $('body'),\n        hamburger: $('.hamburger'),\n        open: 'js-menu-open',\n        visible: 'js-menu-visible',\n        overflow: 'js-overflow',\n        width: $(window).width(),\n        prevWidth: $(window).width(),\n      };\n    },\n\n    init() {\n      s = this.settings();\n      this.bindEvents();\n    },\n\n    bindEvents() {\n      let menuContainerWidth;\n\n      if (s.width < 864) {\n        menuContainerWidth = 100;\n      } else if (s.width < 1456) {\n        menuContainerWidth = 50;\n      } else {\n        menuContainerWidth = 45;\n      }\n\n      $(window).on('resize', () => {\n        s.width = $(window).width();\n\n        if (s.width < 864) {\n          menuContainerWidth = 100;\n        } else if (s.width < 1456) {\n          menuContainerWidth = 50;\n        } else {\n          menuContainerWidth = 45;\n        }\n      });\n\n      s.hamburger.on('click', () => {\n        Menu.toggleMenu(menuContainerWidth);\n      });\n\n      s.body.on('keyup', e => {\n        if (s.body.hasClass(s.open) && e.which === 27) {\n          Menu.toggleMenu(menuContainerWidth);\n        }\n      });\n    },\n\n    toggleMenu(width) {\n      s.hamburger.toggleClass('js-hamburger');\n      s.body.toggleClass(s.open);\n      s.body.toggleClass(s.overflow);\n\n      if (s.body.hasClass(s.open)) {\n        s.prevWidth = width;\n\n        anime.timeline({\n          easing: 'easeOutQuart',\n          duration: 600,\n          begin() {\n            $('.menu__right').css('left', `${width}%`);\n            s.body.addClass(s.visible);\n          }\n        })\n        .add({\n          targets: '.menu__left',\n          width: [0, `${width}%`]\n        })\n        .add({\n          targets: '.menu__right',\n          width: [0, `${100 - width}%`]\n        }, 0);\n      }\n\n      if (!s.body.hasClass(s.open)) {\n        anime.timeline({\n          easing: 'easeInQuart',\n          duration: 600,\n          delay: 200,\n          complete() {\n            s.body.removeClass(s.visible);\n          }\n        })\n        .add({\n          targets: '.menu__left',\n          width: [`${s.prevWidth}%`, 0]\n        })\n        .add({\n          targets: '.menu__right',\n          width: [`${100 - s.prevWidth}%`, 0]\n        }, 0);\n      }\n    }\n  };\n})();\n\nMenu.init();\n"}],"position":{"start":{"line":89,"column":1,"offset":1967},"end":{"line":194,"column":5,"offset":4276}}}],"position":{"start":{"line":89,"column":1,"offset":1967},"end":{"line":194,"column":5,"offset":4276}}},{"type":"text","value":"\n"},{"type":"raw","value":"<hr/>","position":{"start":{"line":196,"column":1,"offset":4278},"end":{"line":196,"column":6,"offset":4283}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"The Demo","position":{"start":{"line":198,"column":4,"offset":4288},"end":{"line":198,"column":12,"offset":4296}}}],"position":{"start":{"line":198,"column":1,"offset":4285},"end":{"line":198,"column":12,"offset":4296}}},{"type":"text","value":"\n"},{"type":"raw","value":"<p><a href=\"https://artbyelina.com/\" target=\"_blank\">Art by Elina</a></p>","position":{"start":{"line":199,"column":1,"offset":4297},"end":{"line":199,"column":74,"offset":4370}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":200,"column":1,"offset":4371}}}}